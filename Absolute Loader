#include <stdio.h>
#include <string.h>
#include <stdlib.h>
int main(){
    FILE *fp=fopen("object_code.txt","r");
    if(!fp){
        printf("file not found");
        return 1;
    }
    char line[100];
    while(fgets(line,sizeof(line),fp)){
        if(line[0]=='H'){
            char name[20],start[10],len[10];
            sscanf(line,"H^%[^'^']^%[^'^']^%s",name,start,len);
            printf("Program : %s Start : %s Length : %s\n",name,start,len);
        }
        else if(line[0]=='T'){
            char start[10],len[10],obj[100];
            sscanf(line,"T^%[^'^']^%[^'^']^%[^\n]",start,len,obj);
            int addr=strtol(start,NULL,16);
            
            for(int i=0;obj[i] && obj[i+1];i+=2){
                if(obj[i]!='^'){
                    printf("Address 00%04X : %c%c\n",addr++,obj[i],obj[i+1]);
                }
            }
        }
        else if(line[0]=='E'){
            printf("\nEnd of program\n");
        }
    }
    fclose(fp);
    return 0;
}

object_code.txt
H^COPY^001000^00107A
T^001000^1E^141033^281030^300015^481039^3C1003^$ 
T^00101E^15^0C1036^4C0000^481061^$ 
E^001000
