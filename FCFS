#include <stdio.h>

struct Process{
    int id,at,bt,ct,tat,wt;
};

int main(){
    int n,i,j;
    float avgTAT=0;
    float avgWT=0;
    printf("enter no of processes: ");
    scanf("%d",&n);
    struct Process p[n];
    for(i=0;i<n;i++){
        p[i].id=i+1;
        printf("enter AT and BT: ");
        scanf("%d%d",&p[i].at,&p[i].bt);
    }
    
    for(i=0;i<n-1;i++){
        for(j=i+1;j<n;j++){
            if(p[i].at>p[j].at){
                struct Process temp=p[i];
                p[i]=p[j];
                p[j]=temp;
            }
        }
    }
    
    p[0].ct=p[0].at+p[0].bt;
    
    for(i=1;i<n;i++){
        p[i].ct=(p[i-1].ct<p[i].at?p[i].at:p[i-1].ct)+p[i].bt;
    }
    
    printf("Gantt Chart\n");
    
    for(i=0;i<n;i++){
        printf("P%d | ",p[i].id);
    }
    printf("\n%d",p[0].at);
    
    for(i=0;i<n;i++){
        printf("  %d ",p[i].ct);
    }
    
    for(i=0;i<n;i++){
        p[i].tat=p[i].ct-p[i].at;
        p[i].wt=p[i].tat-p[i].bt;
    }
    
    printf("\nProcess\tAT\tBT\tCT\tTAT\tWT\n");
    
    for(i=0;i<n;i++){
        printf("\n%d\t%d\t%d\t%d\t%d\t%d\n",p[i].id,p[i].at,p[i].bt,p[i].ct,p[i].tat,p[i].wt);
        avgTAT+=p[i].tat;
        avgWT+=p[i].wt;
    }
    printf("Average TAT:%.2f Average WT:%.2f",avgTAT/n,avgWT/n);
    return 0;

    }
